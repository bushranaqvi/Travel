{"ast":null,"code":"import _slicedToArray from\"D:/Travel/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import\"../App.css\";import axios from\"axios\";import{Link}from\"react-router-dom\";import TravelCard from\"./TravelCard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ShowTravelList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),travels=_useState2[0],setTravels=_useState2[1];var token=window.localStorage.getItem(\"token\");var logOut=function logOut(){window.localStorage.clear();window.location.href=\"./sign-in\";};useEffect(function(){axios.get(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/api/v1/travels\"),{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(res){setTravels(res.data);}).catch(function(err){console.log(\"Error from ShowTravelList\");});},[]);var travelList=travels.length===0?\"there is no travel record!\":travels.map(function(travel,k){return/*#__PURE__*/_jsx(TravelCard,{travel:travel},k);});return/*#__PURE__*/_jsxs(\"div\",{className:\"ShowBookList\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h2\",{className:\"display-4 text-center\",children:\"Travel Goals\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-11\",children:[/*#__PURE__*/_jsx(Link,{to:\"/create-travel\",className:\"btn btn-outline-warning float-right\",children:\"+ Add New Travel\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"hr\",{})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"list\",children:travelList})]}),/*#__PURE__*/_jsx(\"button\",{onClick:logOut,children:\"Logout\"})]});}export default ShowTravelList;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","TravelCard","jsx","_jsx","jsxs","_jsxs","ShowTravelList","_useState","_useState2","_slicedToArray","travels","setTravels","token","window","localStorage","getItem","logOut","clear","location","href","get","concat","process","env","REACT_APP_BACKEND_URL","headers","Authorization","then","res","data","catch","err","console","log","travelList","length","map","travel","k","className","children","to","onClick"],"sources":["D:/Travel/frontend/src/components/ShowTravelList.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"../App.css\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport TravelCard from \"./TravelCard\";\r\n\r\nfunction ShowTravelList() {\r\n  const [travels, setTravels] = useState([]);\r\n  const token = window.localStorage.getItem(\"token\");\r\n  const logOut = () => {\r\n    window.localStorage.clear();\r\n    window.location.href = \"./sign-in\";\r\n  };\r\n  useEffect(() => {\r\n    axios\r\n      .get(`${process.env.REACT_APP_BACKEND_URL}/api/v1/travels`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      })\r\n      .then((res) => {\r\n        setTravels(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error from ShowTravelList\");\r\n      });\r\n  }, []);\r\n\r\n  const travelList =\r\n    travels.length === 0\r\n      ? \"there is no travel record!\"\r\n      : travels.map((travel, k) => <TravelCard travel={travel} key={k} />);\r\n\r\n  return (\r\n    <div className=\"ShowBookList\">\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12\">\r\n            <br />\r\n            <h2 className=\"display-4 text-center\">Travel Goals</h2>\r\n          </div>\r\n\r\n          <div className=\"col-md-11\">\r\n            <Link\r\n              to=\"/create-travel\"\r\n              className=\"btn btn-outline-warning float-right\"\r\n            >\r\n              + Add New Travel\r\n            </Link>\r\n            <br />\r\n            <br />\r\n            <hr />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"list\">{travelList}</div>\r\n      </div>\r\n      <button onClick={logOut}>Logout</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ShowTravelList;\r\n"],"mappings":"wGAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,YAAY,CACnB,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,UAAU,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtC,QAAS,CAAAC,cAAcA,CAAA,CAAG,CACxB,IAAAC,SAAA,CAA8BV,QAAQ,CAAC,EAAE,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,GAAM,CAAAI,KAAK,CAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAClD,GAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAA,CAAS,CACnBH,MAAM,CAACC,YAAY,CAACG,KAAK,EAAE,CAC3BJ,MAAM,CAACK,QAAQ,CAACC,IAAI,CAAG,WAAW,CACpC,CAAC,CACDrB,SAAS,CAAC,UAAM,CACdC,KAAK,CACFqB,GAAG,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,qBAAqB,oBAAmB,CAC1DC,OAAO,CAAE,CAAEC,aAAa,WAAAL,MAAA,CAAYT,KAAK,CAAG,CAC9C,CAAC,CAAC,CACDe,IAAI,CAAC,SAACC,GAAG,CAAK,CACbjB,UAAU,CAACiB,GAAG,CAACC,IAAI,CAAC,CACtB,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,GAAG,CAAK,CACdC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC,CAC1C,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAC,UAAU,CACdxB,OAAO,CAACyB,MAAM,GAAK,CAAC,CAChB,4BAA4B,CAC5BzB,OAAO,CAAC0B,GAAG,CAAC,SAACC,MAAM,CAAEC,CAAC,qBAAKnC,IAAA,CAACF,UAAU,EAACoC,MAAM,CAAEA,MAAO,EAAMC,CAAC,CAAI,GAAC,CAExE,mBACEjC,KAAA,QAAKkC,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BnC,KAAA,QAAKkC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBnC,KAAA,QAAKkC,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBnC,KAAA,QAAKkC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBrC,IAAA,SAAM,cACNA,IAAA,OAAIoC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,cAAY,EAAK,GACnD,cAENnC,KAAA,QAAKkC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBrC,IAAA,CAACH,IAAI,EACHyC,EAAE,CAAC,gBAAgB,CACnBF,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAChD,kBAED,EAAO,cACPrC,IAAA,SAAM,cACNA,IAAA,SAAM,cACNA,IAAA,SAAM,GACF,GACF,cAENA,IAAA,QAAKoC,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAEN,UAAU,EAAO,GACpC,cACN/B,IAAA,WAAQuC,OAAO,CAAE1B,MAAO,CAAAwB,QAAA,CAAC,QAAM,EAAS,GACpC,CAEV,CAEA,cAAe,CAAAlC,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}